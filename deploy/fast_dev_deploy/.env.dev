# =============================================================================
# Dev Environment Configuration для estimate-app
# Используется на сервере 195.14.122.135 для dev.app.iqbs.pro
# =============================================================================

# Django Configuration
DEBUG=True
SECRET_KEY=django-insecure-dev-key-only-for-development-do-not-use-in-production
ENVIRONMENT=development

# Hosts and Domains
ALLOWED_HOSTS=127.0.0.1,localhost,dev.app.iqbs.pro,195.14.122.135
SERVER_HOST=195.14.122.135

# Database Configuration (общая с продакшн)
DATABASE_URL=postgresql://estimate_user:secure_password_123@localhost:5432/estimate_app_db
POSTGRES_DB=estimate_app_db
POSTGRES_USER=estimate_user
POSTGRES_PASSWORD=secure_password_123
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# API Configuration
API_BASE_URL=https://dev.app.iqbs.pro/api/v1
VITE_API_BASE_URL=https://dev.app.iqbs.pro/api/v1

# CORS Configuration для dev окружения
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,https://dev.app.iqbs.pro,http://dev.app.iqbs.pro
CORS_ALLOW_CREDENTIALS=True

# CSRF Configuration
CSRF_TRUSTED_ORIGINS=https://dev.app.iqbs.pro,http://dev.app.iqbs.pro,http://localhost:5173,http://127.0.0.1:5173
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=True

# Session Configuration
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_AGE=3600

# Static and Media Files
STATIC_URL=/static/
STATIC_ROOT=/var/www/estimate-app-dev/staticfiles/
MEDIA_URL=/media/
MEDIA_ROOT=/var/www/estimate-app-dev/media/

# Email Configuration (консоль для dev)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=587
EMAIL_USE_TLS=False
DEFAULT_FROM_EMAIL=dev@estimate-app.local

# Security Settings (dev mode)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# Logging Configuration
LOG_LEVEL=DEBUG
DJANGO_LOG_LEVEL=INFO

# Cache Configuration (dev - dummy cache)
CACHE_TYPE=dummy
REDIS_URL=redis://localhost:6379/1

# Dev Server Ports
DEV_BACKEND_PORT=8001
DEV_FRONTEND_PORT=3001
DEV_NGINX_PORT=80

# Development Features
ENABLE_DEBUG_TOOLBAR=True
ENABLE_SILK_PROFILING=False
SHOW_SQL_QUERIES=True

# Frontend Development
NODE_ENV=development
VITE_ENVIRONMENT=development
VITE_DEBUG=true

# API Throttling (более мягкие лимиты для dev)
API_THROTTLE_RATE=1000/hour
API_BURST_RATE=100/min

# File Upload Limits
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_UPLOAD_EXTENSIONS=xlsx,xls,csv,txt,pdf,jpg,jpeg,png

# Timezone and Localization
TIME_ZONE=Europe/Kiev
LANGUAGE_CODE=uk-ua
USE_I18N=True
USE_L10N=True
USE_TZ=True

# Admin Configuration
ADMIN_URL=admin/
ADMIN_EMAIL=dev-admin@estimate-app.local

# Third-party Services (dev keys)
SENTRY_DSN=
ANALYTICS_ID=

# Feature Flags для dev
ENABLE_PRICE_CHANGE_REQUESTS=True
ENABLE_MOBILE_INTERFACE=True
ENABLE_AUDIT_LOGGING=True
ENABLE_RBAC=True

# Development Tools
ENABLE_DJANGO_EXTENSIONS=True
ENABLE_SHELL_PLUS=True

# Backup Configuration
BACKUP_ENABLED=False
BACKUP_PATH=/var/www/estimate-app-dev/backups/

# Monitoring (dev mode)
ENABLE_HEALTH_CHECKS=True
HEALTH_CHECK_INTERVAL=300  # 5 минут

# Performance Settings
DATABASE_CONN_MAX_AGE=0  # Не переиспользовать соединения в dev
DATABASE_CONN_HEALTH_CHECKS=True

# Frontend Build Configuration
VITE_BUILD_TARGET=development
VITE_SOURCEMAP=true
VITE_MINIFY=false

# Git Information (заполняется автоматически при деплое)
GIT_COMMIT_SHA=
GIT_BRANCH=dev
GIT_DEPLOY_TIME=

# Server Information
SERVER_ENVIRONMENT=development
SERVER_REGION=ukraine
DEPLOYMENT_TYPE=quick-deploy