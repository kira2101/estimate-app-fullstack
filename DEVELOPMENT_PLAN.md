
# План разработки Full-Stack приложения "Сервис Строительных Смет"

Этот документ описывает этапы разработки бэкенда на Django и его интеграции с существующим фронтенд-прототипом.

---

### Этап 1: Настройка проекта Django

- **Статус:** В процессе
- **Задачи:**
    - [x] Создать папку `backend`.
    - [ ] Настроить виртуальное окружение Python.
    - [ ] Установить зависимости: `django`, `djangorestframework`, `psycopg2-binary`, `django-cors-headers`, `djangorestframework-simplejwt`.
    - [ ] Создать структуру проекта Django (`startproject`, `startapp`).
    - [ ] Настроить `settings.py`: подключить БД PostgreSQL, добавить `corsheaders` для решения проблемы CORS, зарегистрировать приложения.

---

### Этап 2: Создание моделей и базового API

- **Статус:** Не начат
- **Задачи:**
    - [ ] Перенести схему таблиц из `BD.MD` в `backend/models.py`.
    - [ ] Создать и применить миграции (`makemigrations`, `migrate`).
    - [ ] Реализовать сериализаторы и представления для "справочников" (категории работ, типы работ).
    - [ ] Проверить работоспособность базовых `GET` эндпоинтов.

---

### Этап 3: Реализация аутентификации

- **Статус:** Не начат
- **Задачи:**
    - [ ] Настроить `djangorestframework-simplejwt`.
    - [ ] Реализовать эндпоинт `POST /api/v1/auth/login` для входа пользователя и выдачи JWT-токена.
    - [ ] Создать тестовых пользователей в БД для проверки.

---

### Этап 4: Интеграция авторизации с фронтендом

- **Статус:** Не начат
- **Задачи:**
    - [ ] Создать `frontend/src/api/client.js` с функцией `login`.
    - [ ] Подключить `LoginPage.jsx` к реальному эндпоинту.
    - [ ] Реализовать сохранение JWT-токена на фронтенде и его использование для последующих запросов.

---

### Этап 5: Последовательная реализация и интеграция остального API

- **Статус:** Не начат
- **Задачи:**
    - [ ] Реализовать API и интегрировать фронтенд для **Проектов (Объектов)**.
    - [ ] Реализовать API и интегрировать фронтенд для **Смет (Estimates)**.
    - [ ] Реализовать API и интегрировать фронтенд для **Работ в смете (Estimate Items)**.
    - [ ] Реализовать API и интегрировать фронтенд для **Запросов на изменение цены**.

